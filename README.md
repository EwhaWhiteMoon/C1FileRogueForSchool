# C1FileRogueForSchool

학교 과제를 위한 프로젝트입니다.

3개의 층을 탐험하면서, 각 층의 모든 적을 처리해야 합니다.
플레이어는 6칸의 체력, 방어력, 공격력,  3칸의 포션 슬롯을 가집니다.
기본적으로 1의 공격력, 1의 방어력을 가집니다.

포션은 3가지 종류가 있고, 게임 시작 시 R, G, B 중의 무작위 색깔이 정해집니다.
포션을 사용하기 전에는 어떤 포션이 어떤 색깔인지 확인할 수 없습니다.
- 회복의 포션은 체력을 전부 회복시켜 줍니다.
- 폭파의 포션은 주변 8칸의 적과 본인에게 피해를 2 줍니다.
- 강화의 포션은 방어력, 공격력 중 랜덤한 하나를 영구히 1 올립니다.

적은 등장한 층과 같은 체력을 지니고, 자신의 체력과 동일한 공격력을 가집니다.
- 적이 플레이어 위치로 이동하게 될 경우, 적은 이동하지 않고 적의 공격력-플레이어의 방어력 만큼 플레이어의 체력을 깎습니다.
- 플레이어가 적 위치로 이동하게 될 경우, 플레이어는 이동하지 않고 플레이어의 공격력만큼 적의 체력을 깎습니다.
- 적이 포션 위치로 이동하게 될 경우, 포션은 사라집니다.
- 적이 벽 위치로 이동하게 될 경우, 적은 이동하지 않습니다.

적은 플레이어가 한 번 이동할 때마다, 플레이어의 이동 후에 다음 규칙에 따라 이동합니다. 위쪽 규칙이 우선순위가 높습니다.
- 적은 10%의 확률로 움직이지 않습니다.
- 적은 상하좌우 4칸에 플레이어가 있으면, 플레이어 방향으로 이동합니다.
- 적은 대각선 4칸에 플레이어가 있으면, 플레이어 방향에 가깝고 벽이 없는 쪽으로 무작위로 이동합니다.
- 적은 자신으로부터 떨어진 위쪽 3칸에 플레이어가 있고, 그 방향에 벽이 없으면, 그쪽 방향으로 이동합니다, 다른 3개의 방향에 대해서도 동일하게 이동합니다.
- 적은 자신으로부터 떨어진 체스의 나이트와 같은 방위에 플레이어가 있고, 그 방향에 벽이 있으면, 플레이어의 위치에 맞게 이동 가능한 방향으로 이동합니다.
- 적은 무작위 방향으로 이동합니다.

맵은 10 x 10의 공간으로 만들어집니다. 생성 절차는 다음과 같습니다.
1. 맵의 제일 바깥쪽 한 칸을 벽으로 만듭니다.
2. 남은 8 x 8의 공간을 4 x 4로 나누어, 각 칸을 미리 생성된 프리셋 중 하나를 선택해서 채웁니다.
3. 가능한 한 위쪽 줄, 가능한 한 왼쪽 줄의 빈 공간을 플레이어의 시작 위치로 합니다.
4. 가능한 한 아래쪽 줄, 가능한 한 오른쪽 줄의 빈 공간을 플레이어의 도착 위치로 합니다.
5. 남은 공간을 30% 확률로 적, 30% 확률로 무작위 포션으로 채웁니다

게임이 시작하면, 플레이어는 시작 위치에 생성됩니다.
플레이어는 상 하 좌 우 중 벽이 없는 방향으로 이동하거나, 포션을 사용할 수 있습니다.
플레이어가 포션이 있는 위치로 이동하면, 포션을 인벤토리에 추가합니다.
플레이어의 체력이 0이 되면, 게임 오버 화면을 출력합니다.
플레이어가 도착 위치에 도착하면, 맵 전체에 적이 남아있는지 확인합니다. 적이 남아있다면 층을 하나 늘리고, 맵을 다시 생성합니다.
플레이어가 3층의 도착 위치에 도작하면, 클리어 화면을 출력합니다.

맵은 다음의 형태로 출력됩니다.
- 빈 공간은 　(U+3000, 전각 공백 문자) 로 출력됩니다
- 벽은 ＃(U+FF03, 전각 해시 기호) 로 출력됩니다.
- 플레이어는 @(U+0040, 상업용 앳) 로 출력됩니다.
- 적은 남은 체력에 따라 A, B, C로 출력됩니다.
- 포션은 색깔에 따라 R, G, B로 출력됩니다.

플레이어의 상태는 맵의 다음 줄에 출력합니다. 공격력, 방어력, 체력이 표시됩니다.
플레이어의 인벤토리는 상태의 다음 줄에 출력합니다. R 포션의 개수, G 포션의 개수, B 포션의 개수를 순서대로 출력합니다.(실제 종류에 관련 없음)

### Todo

- [ ] 게임 기본 흐름 설계
- [ ] 절차적 맵 생성 구현
- [ ] 적의 움직임 구현
- [ ] 포션 획득, 사용 구현

### In Progress

### Done ✓

